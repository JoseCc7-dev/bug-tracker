{% extends 'trackersite/layout.html' %}

{% block body_class %}gbody page-top{% endblock %}

{% block body %}
<br><div class="card shadow border-start-primary py-2">
    <div style="justify-content:center; display: flex; padding: 0.5%; font-size: large;">My Tickets</div>
    <div class="form-inline" style="justify-content: right;">
        <input class="form-control" type="search" placeholder="Filter by Title" aria-label="Search" id="searchBar1" onkeyup="search_names('searchBar1', 'titles1')">
    </div>
    <div>
        <table class="table projects">
            <thead>
                <tr>
                <th scope="col">#</th>
                <th scope="col">Title</th>
                <th scope="col">Priority</th>
                <th scope="col">Status</th>
                <th scope="col">Type</th>
                <th scope="col">Time Created</th>
                </tr>
            </thead>
            <tbody>
                {% for ticket in tickets %}
                <tr>
                    <th scope="row">{{ forloop.counter }}</th>
                    <td><a class="titles1 hlink" href="{% url 'load_ticket' ticket.id %}" >{{ticket.title}}</a></td>
                    <td>{{ticket.priority}}</td>
                    <td>{{ticket.status}}</td>
                    <td>{{ticket.type}}</td>
                    <td>{{ticket.timestamp}}</td>
                </tr>
                {% endfor %}
                
    </tbody>
        </table>
    </div>
</div>
<br><div class="card shadow border-start-primary py-2">
    <div style="justify-content:center; display: flex; padding: 0.5%; font-size: large;">All Tickets</div>
    <div class="form-inline" style="justify-content: right;">
        <input class="form-control" type="search" placeholder="Filter by Title" aria-label="Search" id="searchBar2" onkeyup="search_names('searchBar2', 'titles2')">
    </div>
    <div>
        <table class="table projects">
            <thead>
                <tr>
                <th scope="col">#</th>
                <th scope="col">Title</th>
                <th scope="col">Priority</th>
                <th scope="col">Status</th>
                <th scope="col">Type</th>
                <th scope="col">Time Created</th>
                </tr>
            </thead>
            <tbody>
                {% for ticket in allTickets %}
                <tr>
                    <th scope="row">{{ forloop.counter }}</th>
                    <td><a class="titles2 hlink" href="{% url 'load_ticket' ticket.id %}" >{{ticket.title}}</a></td>
                    <td>{{ticket.priority}}</td>
                    <td>{{ticket.status}}</td>
                    <td>{{ticket.type}}</td>
                    <td>{{ticket.timestamp}}</td>
                </tr>
                {% endfor %}
                
    </tbody>
        </table>
    </div>
</div>
{% endblock %}