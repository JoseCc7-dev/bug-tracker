{% extends 'trackersite/layout.html' %}

{% block body %}
<br><div class="card shadow border-start-primary py-2">
    <div style="justify-content:center; display: flex; padding: 0.5%; font-size: large;">My Projects</div>
    <div class="form-inline" style="justify-content: right;">
        <input class="form-control" type="search" placeholder="Filter by Title" aria-label="Search" id="searchBar1" onkeyup="search_names('searchBar1', 'titles1')">
    </div>
    <div>
        <table class="table projects">
            <thead>
                <tr>
                <th scope="col">#</th>
                <th scope="col">Title</th>
                <th scope="col">Description</th>
                <th scope="col">Status</th>
                <th scope="col">Time Created</th>
                </tr>
            </thead>
            <tbody>
                {% for project in projects %}
                <tr>
                    <td scope="row">{{ forloop.counter }}</td>
                    <td><a class="titles1 hlink" href="{% url 'manage_project' project.title %}" class="hlink">{{project.title}}</a></td>
                    <td>{{project.desc}}</td>
                    <td>{{project.status}}</td>
                    <td>{{project.time_created}}</td>
                </tr>
                {% endfor %}
                
    </tbody>
        </table>
    </div>
</div>

<!-- Admin Project View -->
{% if user.role != 'Developer' %}
<br><div class="card shadow border-start-primary py-2">
    <div style="justify-content:center; display: flex; padding: 0.5%; font-size: large;">All Projects</div>
    <div class="form-inline" style="justify-content: right;">
        <input class="form-control" type="search" placeholder="Filter by Title" aria-label="Search" id="searchBar2" onkeyup="search_names('searchBar2', 'titles2')">
    </div>
    <div>
        <table class="table projects">
            <thead>
                <tr>
                <th scope="col">#</th>
                <th scope="col">Title</th>
                <th scope="col">Description</th>
                <th scope="col">Status</th>
                <th scope="col">Time Created</th>
                </tr>
            </thead>
            <tbody>
                {% for project in allProjects %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td><a class="titles2 hlink" href="{% url 'manage_project' project.title %}">{{project.title}}</a></td>
                    <td>{{project.desc}}</td>
                    <td>{{project.status}}</td>
                    <td>{{project.time_created}}</td>
                </tr>
                {% endfor %}
                
    </tbody>
        </table>
    </div>
</div>
{% endif %}
{% endblock %}